| ID     | Название                          | Описание                                                                 | Метрика/Порог                                   | Проверка (чем/где)                                      | Компонент  | Приоритет |
|--------|-----------------------------------|--------------------------------------------------------------------------|-------------------------------------------------|---------------------------------------------------------|------------|-----------|
| NFR-01 | Хеширование паролей (Argon2id)    | Пароли пользователей хешируются только алгоритмом Argon2id               | t=3, m=256MB, p=1                                | Конфиг/код ревью + unit-тест на параметры               | auth       | High      |
| NFR-02 | Формат ошибок и PII-маскирование  | Все ответы-ошибки в едином формате; PII не выдаётся; correlation_id      | 100% эндпойнтов; 0 утечек PII                    | Контрактные тесты + e2e; статический анализ логов       | api        | High      |
| NFR-03 | Производительность GET /wishlist  | Витрина списка желаний отвечает быстро под типовой нагрузкой             | p95 ≤ 150 ms @ 30 RPS (stage)                    | Нагрузочный тест (k6/locust) в CI для stage             | api        | High      |
| NFR-04 | Производительность POST /wishlist | Создание элемента списка желаний укладывается в целевой порог            | p95 ≤ 200 ms @ 20 RPS (stage)                    | Нагрузочный тест (k6/locust) в CI для stage             | api        | High      |
| NFR-05 | Доля серверных ошибок             | Уровень 5xx ошибок контролируется                                        | %5xx ≤ 0.5% за 24ч                               | Метрики/алёрты (Prometheus/Loki) + отчёт CI             | api        | High      |
| NFR-06 | Доступность сервиса               | Пользовательская доступность сервиса                                     | SLA ≥ 99.5% за месяц                             | Uptime-проверки (blackbox) + отчёт в релизной заметке    | platform   | Medium    |
| NFR-07 | Уязвимости зависимостей           | High/Critical устраняются оперативно                                     | Возраст High/Critical ≤ 7 дней                   | CI SCA/SBOM отчёт (pip-audit, osv-scanner)              | build      | High      |
| NFR-08 | Ротация и хранение секретов       | Секреты ротуются и хранятся централизованно                              | Ротация каждые 30 дней; без секретов в git       | Политика Vault/KMS + pre-commit секрет-сканер           | platform   | Medium    |
| NFR-9 | Лимитирование и защита от брута   | Ограничение частоты запросов на мутирующие эндпойнты                     | 100 rpm на IP для POST/PUT/DELETE                | Интеграционный тест + наблюдение метрик rate_limit_hits  | api        | Medium    |
| NFR-10 | Логирование и трассировка         | Структурированные логи с correlation_id; без PII                          | 95% логов содержат correlation_id; 0 PII         | Линтер логов/регулярки в CI + спот-проверки в Loki       | observab.  | Medium    |
| NFR-11 | Бэкапы критичных данных           | Регулярные резервные копии (для персистентного стора, когда появится)    | Ежедневно; восстановление < 15 мин (RTO)         | План DR + периодические тесты восстановления            | platform   | Low       |
